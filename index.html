<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Test Firebase DB - Integration Tests</title>
</head>

<body>
  <!-- Add Firebase SDKs and initialize Firebas
  	Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>

  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <!-- <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script> -->
  <!-- Add Firebase products that you want to use -->
  <!-- <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script> -->

  <!-- this is for cloud firestore db - causes error if u dont include it! TypeError: firebase.firestore is not a function -->
  <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-firestore.js"></script>
  <!-- Previously loaded Firebase SDKs -->

  <!-- include our custom Javascript functions -->
  <script type="text/javascript" src="app.js"></script>


  <h1>Test Firebase Online Database</h1>
<!--   <div>
    <p id="listUsers">user content</p>
    <p id="listUsers2">user content2</p>
  </div> -->

<!-- <h2 id="exModule">Module - </h2> -->

  <h2>Exercise 1</h2>
    <div id="exerciseDiv">
    </div>

    <div id="exerciseDiv2">
    </div>


    <br>
    <!-- IMPORTANT TEMPLATE CODE -->
    <div id="testExercise">
      <!-- <form method="get" action="saved.html"> -->
        <!-- should be post, not get!? submitting to same page doenst work either ?? -->
      <form method="post" action="saved.html">
        <h2 id="userNickName">Current User - </h2>
        <!-- module, level -->
        <h2 id="exerciseModule">Module - </h2>
        <p id="exerciseLevel">Level</p>
        <!-- intro & other db fields - TODO update html tags to be more suitable if required -->
        <p id="exerciseIntro">Intro</p>
        <p id="exerciseNum">Number</p>
        <p id="exercisePoints">Points</p>
        <!-- this gets replaced with an array of dynamically genearted checkoxes - ISSUe exercise2 needs textareas instead -->
        <p id="exerciseQuestions">exerciseQuestions</p>

        <!-- <input id="btn" type="submit" value="Submit"> -->

        <button id="submitBtn" type="submit">Submit me</button>
      </form>
    </div>

  <script>
  //submit button must have event listeneres !
  const submitBtn = document.querySelector('#submitBtn');
  submitBtn.addEventListener('click', (event) => {
      
      let arrayCheckboxIsChecked = getValuesFromForm(event);
      console.log(arrayCheckboxIsChecked);
      //how to send this variable to the next page?
      alert('hya');
      //  method getValuesFromForm() is being called by saved.html page
      // alert(getValuesFromForm());
  });

      // get the first exercise
      getUser('1HWx13Ujkm851OoUGkJ5');

      getExercise("oVg1icfURf9aFbNbf3TC");

      //call thsi from saved.html page
      // getValuesFromForm();

      // get the second exercise - needs its own webpage, otherwise overwrites contents of first exercise as it uses the same html tags
      // getExercise("7V1WCY9W41alhmRKhYUL");


      //TODO these really needs a try/catch block
      //get all users  - displays in console only
      // getUsers();
      //get all exercises  - displays in console only
      //getExercises();


    // addUser(newUser1)


  </script>

</body>
</html>